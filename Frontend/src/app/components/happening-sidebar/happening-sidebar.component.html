<div class="p-3">
  <h5 class="mb-4">Happenings</h5>

  @if (loading()) {
  <div class="d-flex justify-content-center align-items-center flex-grow-1">
    <div class="spinner-border text-primary">
    </div>
  </div>
  }

  @if (error()){ <app-404></app-404>}

  @if (!loading()) {
  <div>
    @if (currentHappenings().length > 0) {
    <div>
      <h6>Ongoing Happenings </h6>
      <div class="list-group">
        @for (happening of currentHappenings(); track happening.slug){
        <a [routerLink]="['/happening', happening.slug]"
           routerLinkActive="active"
           [routerLinkActiveOptions]="{ exact: true }"
           class="list-group-item list-group-item-action event-hover">
          {{ happening.name }}<br>
          <small>{{ happening.startDate| date:'dd-MM-yyyy'}} to {{happening.endDate| date:'dd-MM-yyyy'}}</small>
        </a>
        }
      </div>
    </div>
    }
    <br />
    @if (futureHappenings().length > 0) {
    <div>
      <h6>Upcoming Happenings </h6>
      <div class="list-group">
        @for (happening of futureHappenings(); track happening.slug){
        <a [routerLink]="['/happening', happening.slug]"
           routerLinkActive="active"
           [routerLinkActiveOptions]="{ exact: true }"
           class="list-group-item list-group-item-action event-hover">
          {{ happening.name }}<br>
          <small>{{ happening.startDate| date:'dd-MM-yyyy'}} to {{happening.endDate| date:'dd-MM-yyyy'}}</small>
        </a>
        }
      </div>
    </div>
    }
  </div>
  }
</div>
